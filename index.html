<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Task Management Dashboard</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
  body {
    background: linear-gradient(135deg, #0f0f0f 0%, #1a1a1a 50%, #2d2d2d 100%);
  }
  .glass-effect {
    background: rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.1);
  }
  .task-card {
    background: rgba(255, 255, 255, 0.08);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    transition: all 0.3s ease;
  }
  .task-card:hover {
    background: rgba(255, 255, 255, 0.12);
    transform: translateY(-2px);
  }
  .completed-task {
    background: rgba(34, 197, 94, 0.15);
    border: 1px solid rgba(34, 197, 94, 0.3);
  }
  .overdue-task {
    background: rgba(239, 68, 68, 0.15);
    border: 1px solid rgba(239, 68, 68, 0.3);
    animation: pulse-red 2s infinite;
  }
  .filter-btn.active {
    background: rgba(99, 102, 241, 0.3);
    border: 1px solid rgba(99, 102, 241, 0.5);
  }
  @keyframes pulse-red {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
  }
</style>
</head>

<body class="min-h-screen text-white">
  <!-- Header -->
  <header class="glass-effect p-6 shadow-2xl">
    <div class="max-w-6xl mx-auto flex flex-col md:flex-row items-center md:items-end justify-between gap-4">
      <h1 class="text-3xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent">
        Task Management Dashboard
      </h1>
      <div class="flex flex-col md:items-end gap-3 w-full md:w-auto">
        <div class="text-sm text-gray-300">Today: <span id="currentDate" class="font-semibold text-white"></span></div>
        <div class="flex flex-wrap items-center gap-2">
          <span class="glass-effect px-3 py-1 rounded-full text-xs">Total: <span id="totalCount" class="font-semibold">0</span></span>
          <span class="glass-effect px-3 py-1 rounded-full text-xs">Pending: <span id="pendingCount" class="font-semibold text-yellow-300">0</span></span>
          <span class="glass-effect px-3 py-1 rounded-full text-xs">Completed: <span id="completedCount" class="font-semibold text-green-300">0</span></span>
          <span class="glass-effect px-3 py-1 rounded-full text-xs">Overdue: <span id="overdueCount" class="font-semibold text-red-300">0</span></span>
        </div>
      </div>
    </div>
  </header>

<!-- Profile Card -->
    <div class="glass-effect rounded-2xl p-6">
      <div class="flex items-center space-x-4">
        <div class="relative">
          <img 
            src="TWEREE.jpg" 
            alt="Profile Picture" 
            class="w-16 h-16 rounded-full border-2 border-purple-500 object-cover"
          />
          <div class="absolute -bottom-1 -right-1 w-5 h-5 bg-green-500 rounded-full border-2 border-gray-900"></div>
        </div>
        <div>
          <h3 class="text-xl font-bold text-white">Rebecca Muteteri</h3>
          <p class="text-gray-400">muteterirebecca60@gmail.com</p>
        </div>
      </div>
    </div>

  <!-- Main Content -->
  <main class="max-w-6xl mx-auto p-6 space-y-6">
    <!-- Task Form -->
    <div class="glass-effect rounded-2xl p-6">
      <form id="taskForm" class="flex flex-col lg:flex-row gap-4">
        <input 
          id="taskName" 
          type="text" 
          placeholder="Enter task name..." 
          class="flex-1 px-4 py-3 bg-gray-800/50 border border-gray-600 rounded-xl text-white placeholder-gray-400 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all" 
          required 
        />
        <input 
          id="taskDate" 
          type="date" 
          class="px-4 py-3 bg-gray-800/50 border border-gray-600 rounded-xl text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all" 
          required 
        />
        <button 
          type="submit" 
          class="px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl hover:from-purple-700 hover:to-pink-700 transform hover:scale-105 transition-all font-semibold shadow-lg"
        >
          Add Task
        </button>
      </form>
    </div>

    <!-- Filters & Sorting -->
    <div class="glass-effect rounded-2xl p-6">
      <div class="flex flex-col lg:flex-row justify-between items-center gap-4">
        <div class="flex space-x-2">
          <button 
            data-filter="all" 
            class="filter-btn px-4 py-2 rounded-lg bg-gray-700/50 hover:bg-gray-600/50 text-white transition-all active"
          >
            All
          </button>
          <button 
            data-filter="pending" 
            class="filter-btn px-4 py-2 rounded-lg bg-gray-700/50 hover:bg-gray-600/50 text-white transition-all"
          >
            Pending
          </button>
          <button 
            data-filter="completed" 
            class="filter-btn px-4 py-2 rounded-lg bg-gray-700/50 hover:bg-gray-600/50 text-white transition-all"
          >
            Completed
          </button>
          <button 
            data-filter="overdue" 
            class="filter-btn px-4 py-2 rounded-lg bg-gray-700/50 hover:bg-gray-600/50 text-white transition-all"
          >
            Overdue
          </button>
        </div>
        <button 
          id="sortBtn" 
          class="px-4 py-2 rounded-lg bg-gray-700/50 hover:bg-gray-600/50 text-white transition-all flex items-center space-x-2"
        >
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 4h13M3 8h9m-9 4h6m4 0l4-4m0 0l4 4m-4-4v12"></path>
          </svg>
          <span>Sort by Due Date</span>
        </button>
      </div>
    </div>

    <!-- Task List -->
    <div class="space-y-4">
      <ul id="taskList" class="space-y-4"></ul>
    </div>
  </main>

<script>
// Sample Initial Tasks
    let tasks = [
      { id: 1, name: "Complete assignment", dueDate: "2025-09-20", status: "completed" },
      { id: 2, name: "Team meeting", dueDate: "2024-12-25", status: "Pending" },
      { id: 3, name: "Buy groceries", dueDate: "2025-12-18", status: "pending" },
      { id: 4, name: "Read a book", dueDate: "2025-12-30", status: "Pending" },
      { id: 5, name: "Workout session", dueDate: "2025-12-15", status: "Pending" }
    ];

let filterStatus = "all";
let sortAsc = true;


const taskList = document.getElementById("taskList");
const taskForm = document.getElementById("taskForm");
const taskName = document.getElementById("taskName");
const taskDate = document.getElementById("taskDate");

// Helper functions for task status and dates
function isCompleted(task) {
  return String(task.status).toLowerCase() === "completed";
}

function isPending(task) {
  return !isCompleted(task);
}

// Helper function to check if a task is overdue
function isOverdue(task) {
  if (isCompleted(task)) return false;
  const today = new Date();
  const dueDate = new Date(task.dueDate);
  today.setHours(0, 0, 0, 0);
  dueDate.setHours(0, 0, 0, 0);
  return dueDate < today;
}

// Render tasks
function renderTasks() {
  taskList.innerHTML = "";
  let filtered = tasks.filter(task => {
    if (filterStatus === "all") return true;
    if (filterStatus === "overdue") return isOverdue(task);
    return String(task.status).toLowerCase() === filterStatus;
  });

  if (!sortAsc) {
    filtered = filtered.sort((a, b) => new Date(b.dueDate) - new Date(a.dueDate));
  } else {
    filtered = filtered.sort((a, b) => new Date(a.dueDate) - new Date(b.dueDate));
  }

  filtered.forEach(task => {
    const li = document.createElement("li");
    const overdue = isOverdue(task);
    const completed = isCompleted(task);
    
    let cardClass = "task-card flex justify-between items-center p-6 rounded-2xl shadow-lg";
    if (completed) cardClass += " completed-task";
    else if (overdue) cardClass += " overdue-task";
    
    li.className = cardClass;

    // Calculate days until due or days overdue
    const today = new Date();
    const dueDate = new Date(task.dueDate);
    const diffTime = dueDate - today;
    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
    
    let dueText = `Due: ${task.dueDate}`;
    let dueClass = "text-sm text-gray-400 mt-1";
    
    if (overdue) {
      dueText = `Overdue by ${Math.abs(diffDays)} day${Math.abs(diffDays) !== 1 ? 's' : ''}`;
      dueClass = "text-sm text-red-400 mt-1 font-semibold";
    } else if (diffDays === 0) {
      dueText = "Due: Today";
      dueClass = "text-sm text-yellow-400 mt-1 font-semibold";
    } else if (diffDays === 1) {
      dueText = "Due: Tomorrow";
      dueClass = "text-sm text-yellow-300 mt-1";
    } else if (diffDays <= 3) {
      dueText = `Due in ${diffDays} days`;
      dueClass = "text-sm text-yellow-300 mt-1";
    }

    li.innerHTML = `
      <div class="flex-1">
        <div class="flex items-center gap-2">
          <p class="${completed ? "line-through text-gray-400" : "font-semibold text-white text-lg"}">${task.name}</p>
          ${overdue ? '<span class="px-2 py-1 text-xs bg-red-500/20 text-red-300 rounded-full border border-red-500/30">OVERDUE</span>' : ''}
        </div>
        <p class="${dueClass}">${dueText}</p>
      </div>
      <div class="flex space-x-3">
        <button onclick="toggleStatus(${task.id})" class="px-4 py-2 text-sm rounded-xl bg-gradient-to-r from-blue-600 to-blue-700 text-white hover:from-blue-700 hover:to-blue-800 transform hover:scale-105 transition-all font-medium shadow-lg">
          ${completed ? "Undo" : "Done"}
        </button>
        <button onclick="editTask(${task.id})" class="px-4 py-2 text-sm rounded-xl bg-gradient-to-r from-yellow-500 to-yellow-600 text-white hover:from-yellow-600 hover:to-yellow-700 transform hover:scale-105 transition-all font-medium shadow-lg">
          Edit
        </button>
        <button onclick="deleteTask(${task.id})" class="px-4 py-2 text-sm rounded-xl bg-gradient-to-r from-red-500 to-red-600 text-white hover:from-red-600 hover:to-red-700 transform hover:scale-105 transition-all font-medium shadow-lg">
          Delete
        </button>
      </div>
    `;
    taskList.appendChild(li);
  });

  updateHeaderStats();
}

// Add Task
taskForm.addEventListener("submit", e => {
e.preventDefault();
if (!taskName.value.trim()) return alert("Task name cannot be empty");


const newTask = {
id: Date.now(),
name: taskName.value.trim(),
dueDate: taskDate.value,
status: "Pending"
};
tasks.push(newTask);
taskName.value = "";
taskDate.value = "";
renderTasks();
});


// Toggle Complete
function toggleStatus(id) {
  const task = tasks.find(t => t.id === id);
  if (!task) return;
  const current = String(task.status).toLowerCase();
  task.status = current === "pending" ? "Completed" : "Pending";
  renderTasks();
}


// Edit Task
function editTask(id) {
const task = tasks.find(t => t.id === id);
const newName = prompt("Edit task name", task.name);
const newDate = prompt("Edit due date (YYYY-MM-DD)", task.dueDate);
if (newName && newDate) {
task.name = newName;
task.dueDate = newDate;
renderTasks();
}
}


// Delete Task
function deleteTask(id) {
if (confirm("Are you sure you want to delete this task?")) {
tasks = tasks.filter(t => t.id !== id);
renderTasks();
}
}


// Filters
document.querySelectorAll(".filter-btn").forEach(btn => {
  btn.addEventListener("click", () => {
    // Remove active class from all buttons
    document.querySelectorAll(".filter-btn").forEach(b => b.classList.remove("active"));
    // Add active class to clicked button
    btn.classList.add("active");
    filterStatus = btn.dataset.filter;
    renderTasks();
  });
});


// Sorting
document.getElementById("sortBtn").addEventListener("click", () => {
sortAsc = !sortAsc;
renderTasks();
});


// Initial Render
renderTasks();

// Header stats & date
function updateHeaderStats() {
  const total = tasks.length;
  const completed = tasks.filter(t => isCompleted(t)).length;
  const overdue = tasks.filter(t => isOverdue(t)).length;
  const pending = total - completed;

  const totalEl = document.getElementById("totalCount");
  const pendingEl = document.getElementById("pendingCount");
  const completedEl = document.getElementById("completedCount");
  const overdueEl = document.getElementById("overdueCount");
  const dateEl = document.getElementById("currentDate");

  if (totalEl) totalEl.textContent = String(total);
  if (pendingEl) pendingEl.textContent = String(pending);
  if (completedEl) completedEl.textContent = String(completed);
  if (overdueEl) overdueEl.textContent = String(overdue);
  if (dateEl) {
    const now = new Date();
    const formatted = now.toLocaleDateString(undefined, { weekday: "short", year: "numeric", month: "short", day: "2-digit" });
    dateEl.textContent = formatted;
  }
}
</script>
</body>
</html>