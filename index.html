<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Task Management Dashboard</title>
<script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen flex flex-col">

<header class="bg-indigo-600 text-white p-4 shadow-md">
<h1 class="text-2xl font-bold text-center">Task Management Dashboard</h1>
</header>

<!-- Main Content -->
<main class="flex-1 max-w-3xl mx-auto p-4">
<!-- Task Form -->
<form id="taskForm" class="flex flex-col sm:flex-row gap-2 mb-6">
<input id="taskName" type="text" placeholder="Task name..." class="flex-1 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-400" required />
<input id="taskDate" type="date" class="px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-400" required />
<button type="submit" class="bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700">Add Task</button>
</form>

<!-- Filters & Sorting -->
<div class="flex flex-col sm:flex-row justify-between items-center mb-4 gap-2">
<div class="space-x-2">
<button data-filter="all" class="filter-btn px-3 py-1 rounded-lg bg-gray-200 hover:bg-gray-300">All</button>
<button data-filter="pending" class="filter-btn px-3 py-1 rounded-lg bg-gray-200 hover:bg-gray-300">Pending</button>
<button data-filter="completed" class="filter-btn px-3 py-1 rounded-lg bg-gray-200 hover:bg-gray-300">Completed</button>
</div>
<button id="sortBtn" class="px-3 py-1 rounded-lg bg-gray-200 hover:bg-gray-300">Sort by Due Date</button>
</div>

<!-- Task List -->
<ul id="taskList" class="space-y-3"></ul>
</main>

<script>
// Sample Initial Tasks
let tasks = [
{ id: 1, name: "Complete assignment", dueDate: "2025-09-29", status: "Pending" },
{ id: 2, name: "Team meeting", dueDate: "2025-10-01", status: "Pending" },
{ id: 3, name: "Buy groceries", dueDate: "2025-09-28", status: "Completed" },
{ id: 4, name: "Read a book", dueDate: "2025-10-05", status: "Pending" },
{ id: 5, name: "Workout session", dueDate: "2025-09-30", status: "Pending" }
];


let filterStatus = "all";
let sortAsc = true;


const taskList = document.getElementById("taskList");
const taskForm = document.getElementById("taskForm");
const taskName = document.getElementById("taskName");
const taskDate = document.getElementById("taskDate");

// Render tasks
function renderTasks() {
taskList.innerHTML = "";
let filtered = tasks.filter(task =>
filterStatus === "all" ? true : task.status.toLowerCase() === filterStatus
);


if (!sortAsc) {
filtered = filtered.sort((a, b) => new Date(b.dueDate) - new Date(a.dueDate));
} else {
filtered = filtered.sort((a, b) => new Date(a.dueDate) - new Date(b.dueDate));
}


filtered.forEach(task => {
const li = document.createElement("li");
li.className = `flex justify-between items-center p-3 rounded-lg shadow-sm ${task.status === "Completed" ? "bg-green-100" : "bg-white"}`;


li.innerHTML = `
<div>
<p class="${task.status === "Completed" ? "line-through text-gray-500" : "font-medium"}">${task.name}</p>
<p class="text-sm text-gray-500">Due: ${task.dueDate}</p>
</div>
<div class="space-x-2">
<button onclick="toggleStatus(${task.id})" class="px-2 py-1 text-xs rounded bg-indigo-500 text-white">${task.status === "Completed" ? "Undo" : "Done"}</button>
<button onclick="editTask(${task.id})" class="px-2 py-1 text-xs rounded bg-yellow-400">Edit</button>
<button onclick="deleteTask(${task.id})" class="px-2 py-1 text-xs rounded bg-red-500 text-white">Delete</button>
</div>
`;
taskList.appendChild(li);
});
}

// Add Task
taskForm.addEventListener("submit", e => {
e.preventDefault();
if (!taskName.value.trim()) return alert("Task name cannot be empty");


const newTask = {
id: Date.now(),
name: taskName.value.trim(),
dueDate: taskDate.value,
status: "Pending"
};
tasks.push(newTask);
taskName.value = "";
taskDate.value = "";
renderTasks();
});


// Toggle Complete
function toggleStatus(id) {
const task = tasks.find(t => t.id === id);
task.status = task.status === "Pending" ? "Completed" : "Pending";
renderTasks();
}